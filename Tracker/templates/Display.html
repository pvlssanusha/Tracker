{% extends "base.html" %}
{% load static %}
{% block title %}Issues{% endblock %}
{% block content %}
<div class="issue-main">
    <div class="section-head">Issues</div>
    
    <!-- Filter Form -->
    <form method="get" action="">
        {{ filter_form.as_p }}
        <button type="submit">Filter</button>
    </form>

    <div class="issues">
        {% for issue in data %}
        <a class="issue" href="{{ issue.id }}">
            <div class="issue-title">{{ issue.issuename }}</div>
            <div class="issue-desc">{{ issue.description }}</div>
            <div class="issue-meta">
                <span class="meta-item">
                    <i class="fas fa-eye"></i> {{ issue.viewcount }}
                </span>
                <span class="meta-item">
                    <i class="fas fa-comments"></i> {{ issue.commentcount }}
                </span>
                <span class="meta-item">
                    <i class="fas fa-lightbulb"></i> {{ issue.suggestioncount }}
                </span>
                <span class="meta-item">Created by: {{ issue.created_by }}</span>
            </div>
        </a>
        {% endfor %}
    </div>
    
    <div class="add-issue">
        <a href="/addissue/">Create New Issue</a>
    </div>
</div>
{% endblock %}
